<Window x:Class="AI.KB.Assistant.Views.SettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="設定"
        Height="720" Width="980"
        WindowStartupLocation="CenterOwner"
        Background="{DynamicResource App.BackgroundBrush}"
        Foreground="{DynamicResource App.TextBrush}">
    <DockPanel>

        <!-- 標題列 -->
        <Border DockPanel.Dock="Top" Padding="10"
                Background="{DynamicResource App.PanelBrush}"
                BorderBrush="{DynamicResource App.BorderBrush}"
                BorderThickness="0,0,0,1">
            <StackPanel Orientation="Horizontal">
                <TextBlock Text="AI.KB.Assistant 設定" FontSize="18" FontWeight="Bold"/>
                <TextBlock Text="  —  路徑 / 匯入 / 分類 / 主題" Margin="6,0,0,0"
                           Foreground="{DynamicResource App.TextMutedBrush}"/>
            </StackPanel>
        </Border>

        <!-- 底部操作列 -->
        <Border DockPanel.Dock="Bottom" Padding="10"
                Background="{DynamicResource App.PanelBrush}"
                BorderBrush="{DynamicResource App.BorderBrush}"
                BorderThickness="0,1,0,0">
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" >
                <Button Style="{StaticResource TonedBtn}" Content="套用主題" Click="BtnApplyTheme_Click"/>
                <Button Style="{StaticResource TonedBtn}" Content="重新載入" Margin="8,0,0,0" Click="BtnReload_Click"/>
                <Button Style="{StaticResource TonedBtn}" Content="儲存" Margin="8,0,0,0" Click="BtnSave_Click"/>
                <Button Style="{StaticResource TonedBtn}" Content="關閉" Margin="8,0,0,0" IsCancel="True"/>
            </StackPanel>
        </Border>

        <!-- 主內容 -->
        <ScrollViewer VerticalScrollBarVisibility="Auto">
            <TabControl Margin="10">
                <!-- 基本 -->
                <TabItem Header="基本">
                    <Grid Margin="8">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="160"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>

                        <TextBlock Text="Root 目錄" Grid.Row="0" Grid.Column="0" VerticalAlignment="Center"/>
                        <TextBox x:Name="TxtRoot" Grid.Row="0" Grid.Column="1" Margin="6,4"/>
                        <Button Content="瀏覽…" Grid.Row="0" Grid.Column="2" Style="{StaticResource TonedBtn}"
                                Click="BtnPickRoot_Click" Margin="8,0,0,0"/>

                        <TextBlock Text="資料庫 (.db)" Grid.Row="1" Grid.Column="0" VerticalAlignment="Center" Margin="0,6,0,0"/>
                        <TextBox x:Name="TxtDb" Grid.Row="1" Grid.Column="1" Margin="6,10,6,4"/>
                        <Button Content="選擇…" Grid.Row="1" Grid.Column="2" Style="{StaticResource TonedBtn}"
                                Click="BtnPickDb_Click" Margin="8,6,0,0"/>

                        <TextBlock Text="啟動模式" Grid.Row="2" Grid.Column="0" VerticalAlignment="Center" Margin="0,6,0,0"/>
                        <ComboBox x:Name="CbStartupMode" Grid.Row="2" Grid.Column="1" Margin="6,10,6,4" Width="220"/>

                        <TextBlock Text="專案鎖定（可空白）" Grid.Row="3" Grid.Column="0" VerticalAlignment="Center" Margin="0,6,0,0"/>
                        <TextBox x:Name="TxtProjectLock" Grid.Row="3" Grid.Column="1" Margin="6,10,6,4"/>

                        <Border Grid.Row="4" Grid.ColumnSpan="3" Margin="0,12,0,0"
                                Background="{DynamicResource App.PanelBrush}"
                                BorderBrush="{DynamicResource App.BorderBrush}" BorderThickness="1" Padding="8">
                            <TextBlock Foreground="{DynamicResource App.TextMutedBrush}">
                                說明：此分頁設定應用的基本環境（根目錄、DB 位置、啟動模式與專案鎖定）。
                            </TextBlock>
                        </Border>
                    </Grid>
                </TabItem>

                <!-- 匯入 -->
                <TabItem Header="匯入">
                    <Grid Margin="8">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="160"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>

                        <TextBlock Text="收件夾 (Inbox)" Grid.Row="0" Grid.Column="0" VerticalAlignment="Center"/>
                        <TextBox x:Name="TxtInbox" Grid.Row="0" Grid.Column="1" Margin="6,4"/>
                        <Button Content="瀏覽…" Grid.Row="0" Grid.Column="2" Style="{StaticResource TonedBtn}"
                                Click="BtnPickInbox_Click" Margin="8,0,0,0"/>

                        <TextBlock Text="包含子資料夾" Grid.Row="1" Grid.Column="0" VerticalAlignment="Center" Margin="0,6,0,0"/>
                        <CheckBox x:Name="ChkIncludeSubdir" Grid.Row="1" Grid.Column="1" Margin="6,10,6,4" VerticalAlignment="Center"/>

                        <TextBlock Text="搬檔模式" Grid.Row="2" Grid.Column="0" VerticalAlignment="Center" Margin="0,6,0,0"/>
                        <ComboBox x:Name="CbMoveMode" Grid.Row="2" Grid.Column="1" Margin="6,10,6,4" Width="220"/>

                        <TextBlock Text="同名策略" Grid.Row="3" Grid.Column="0" VerticalAlignment="Center" Margin="0,6,0,0"/>
                        <ComboBox x:Name="CbOverwrite" Grid.Row="3" Grid.Column="1" Margin="6,10,6,4" Width="220"/>

                        <TextBlock Text="黑名單副檔名（逗號分隔）" Grid.Row="4" Grid.Column="0" VerticalAlignment="Top" Margin="0,6,0,0"/>
                        <TextBox x:Name="TxtBlacklistExts" Grid.Row="4" Grid.Column="1" Margin="6,10,6,4" Height="60" AcceptsReturn="True" TextWrapping="Wrap"/>

                        <TextBlock Text="黑名單資料夾（逗號分隔）" Grid.Row="5" Grid.Column="0" VerticalAlignment="Top" Margin="0,6,0,0"/>
                        <TextBox x:Name="TxtBlacklistFolders" Grid.Row="5" Grid.Column="1" Margin="6,10,6,4" Height="60" AcceptsReturn="True" TextWrapping="Wrap"/>

                        <Border Grid.Row="6" Grid.ColumnSpan="3" Margin="0,12,0,0"
                                Background="{DynamicResource App.PanelBrush}"
                                BorderBrush="{DynamicResource App.BorderBrush}" BorderThickness="1" Padding="8">
                            <TextBlock Foreground="{DynamicResource App.TextMutedBrush}">
                                說明：此分頁設定收件夾掃描與搬檔邏輯（遞迴、搬檔/複製、同名處理與黑名單）。
                            </TextBlock>
                        </Border>
                    </Grid>
                </TabItem>

                <!-- 分類 -->
                <TabItem Header="分類">
                    <Grid Margin="8">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="160"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>

                        <TextBlock Text="信心閾值 (0~1)" Grid.Row="0" Grid.Column="0" VerticalAlignment="Center"/>
                        <TextBox x:Name="TxtThreshold" Grid.Row="0" Grid.Column="1" Margin="6,4" Width="120"/>

                        <Border Grid.Row="1" Grid.ColumnSpan="3" Margin="0,12,0,0"
                                Background="{DynamicResource App.PanelBrush}"
                                BorderBrush="{DynamicResource App.BorderBrush}" BorderThickness="1" Padding="8">
                            <TextBlock Foreground="{DynamicResource App.TextMutedBrush}">
                                說明：低於此信心值的檔案將預設放入「信心不足」，你仍可在詳情中手動覆寫。
                            </TextBlock>
                        </Border>
                    </Grid>
                </TabItem>

                <!-- 主題 -->
                <TabItem Header="主題">
                    <Grid Margin="8">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="220"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <TextBlock Text="Background #RRGGBB" Grid.Row="0" Grid.Column="0" VerticalAlignment="Center"/>
                        <TextBox x:Name="TxtThemeBackground" Grid.Row="0" Grid.Column="1" Margin="6,4" Width="200"/>

                        <TextBlock Text="Panel #RRGGBB" Grid.Row="1" Grid.Column="0" VerticalAlignment="Center"/>
                        <TextBox x:Name="TxtThemePanel" Grid.Row="1" Grid.Column="1" Margin="6,4" Width="200"/>

                        <TextBlock Text="Border #RRGGBB" Grid.Row="2" Grid.Column="0" VerticalAlignment="Center"/>
                        <TextBox x:Name="TxtThemeBorder" Grid.Row="2" Grid.Column="1" Margin="6,4" Width="200"/>

                        <TextBlock Text="Text #RRGGBB" Grid.Row="3" Grid.Column="0" VerticalAlignment="Center"/>
                        <TextBox x:Name="TxtThemeText" Grid.Row="3" Grid.Column="1" Margin="6,4" Width="200"/>

                        <TextBlock Text="TextMuted #RRGGBB" Grid.Row="4" Grid.Column="0" VerticalAlignment="Center"/>
                        <TextBox x:Name="TxtThemeTextMuted" Grid.Row="4" Grid.Column="1" Margin="6,4" Width="200"/>

                        <TextBlock Text="Primary #RRGGBB" Grid.Row="5" Grid.Column="0" VerticalAlignment="Center"/>
                        <TextBox x:Name="TxtThemePrimary" Grid.Row="5" Grid.Column="1" Margin="6,4" Width="200"/>

                        <TextBlock Text="PrimaryHover #RRGGBB" Grid.Row="6" Grid.Column="0" VerticalAlignment="Center"/>
                        <TextBox x:Name="TxtThemePrimaryHover" Grid.Row="6" Grid.Column="1" Margin="6,4" Width="200"/>

                        <TextBlock Text="Success #RRGGBB" Grid.Row="7" Grid.Column="0" VerticalAlignment="Center"/>
                        <TextBox x:Name="TxtThemeSuccess" Grid.Row="7" Grid.Column="1" Margin="6,4" Width="200"/>

                        <TextBlock Text="Warning #RRGGBB" Grid.Row="8" Grid.Column="0" VerticalAlignment="Center"/>
                        <TextBox x:Name="TxtThemeWarning" Grid.Row="8" Grid.Column="1" Margin="6,4" Width="200"/>

                        <TextBlock Text="Error #RRGGBB" Grid.Row="9" Grid.Column="0" VerticalAlignment="Center"/>
                        <TextBox x:Name="TxtThemeError" Grid.Row="9" Grid.Column="1" Margin="6,4" Width="200"/>

                        <TextBlock Text="BannerInfo #RRGGBB" Grid.Row="10" Grid.Column="0" VerticalAlignment="Center"/>
                        <TextBox x:Name="TxtBannerInfo" Grid.Row="10" Grid.Column="1" Margin="6,4" Width="200"/>

                        <TextBlock Text="BannerWarn #RRGGBB" Grid.Row="11" Grid.Column="0" VerticalAlignment="Center"/>
                        <TextBox x:Name="TxtBannerWarn" Grid.Row="11" Grid.Column="1" Margin="6,4" Width="200"/>

                        <TextBlock Text="BannerError #RRGGBB" Grid.Row="12" Grid.Column="0" VerticalAlignment="Center"/>
                        <TextBox x:Name="TxtBannerError" Grid.Row="12" Grid.Column="1" Margin="6,4" Width="200"/>
                    </Grid>
                </TabItem>
            </TabControl>
        </ScrollViewer>
    </DockPanel>
</Window>
