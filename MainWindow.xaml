<Window x:Class="AI.KB.Assistant.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="AI 知識庫助手" Height="720" Width="1200"
        Background="#0b1220">
    <DockPanel>
        <!-- 側邊欄 -->
        <StackPanel DockPanel.Dock="Left" Width="260" Background="#111a2b">
            <TextBlock Text="AI 知識庫側欄" Margin="12" Foreground="White" FontWeight="Bold"/>

            <TextBlock Text="總目錄" Margin="12,6,12,0" Foreground="#cfe3ff"/>
            <TreeView Name="TreeCategories" Margin="8"/>

            <Separator Margin="8"/>

            <!-- 搜尋（在最近新增上方） -->
            <TextBlock Text="搜尋" Margin="12,4,12,0" Foreground="#cfe3ff"/>
            <StackPanel Orientation="Horizontal" Margin="8">
                <TextBox Name="SearchBox" Width="160" Margin="0,0,8,0" KeyDown="SearchBox_KeyDown"/>
                <Button Name="BtnSearch" Content="🔍" Width="44" Click="BtnSearch_Click"/>
            </StackPanel>

            <!-- 快速視圖 -->
            <Button Name="BtnRecent"   Content="🆕 最近新增" Margin="8" Click="BtnRecent_Click"/>
            <Button Name="BtnPending"  Content="📝 待確認"   Margin="8" Click="BtnPending_Click"/>
            <Button Name="BtnProgress" Content="🚀 執行中"   Margin="8" Click="BtnProgress_Click"/>
            <Button Name="BtnTodo"     Content="✅ 代辦"     Margin="8" Click="BtnTodo_Click"/>
            <Button Name="BtnSettings" Content="⚙️ 設定"     Margin="8" Click="BtnSettings_Click"/>
        </StackPanel>

        <!-- 主區域 -->
        <DockPanel>
            <StackPanel Orientation="Horizontal" Margin="8">
                <CheckBox Name="ChkDryRun" Content="乾跑" Margin="0" IsChecked="True"/>
                <!-- ✅ 一鍵確認並搬檔 -->
                <Button Name="BtnConfirmMove" Content="🟢 一鍵確認並搬檔"
                Margin="12,0,0,0" Click="BtnConfirmMove_Click"/>
            </StackPanel>

            <Border Margin="8" BorderBrush="#2e7cf6" BorderThickness="1" Padding="16"
              AllowDrop="True" Drop="DropInbox" Background="#0f1628" CornerRadius="8">
                <TextBlock Foreground="#cfe3ff" FontSize="16"
                   Text="把檔案拖進來（收件匣）" HorizontalAlignment="Center" VerticalAlignment="Center" />
            </Border>

            <!-- 可多選 -->
            <ListView Name="ListFiles" Margin="8" SelectionMode="Extended">
                <ListView.ItemContainerStyle>
                    <Style TargetType="ListViewItem">
                        <Setter Property="Foreground" Value="White"/>
                        <Setter Property="Background" Value="#0f1628"/>
                    </Style>
                </ListView.ItemContainerStyle>
            </ListView>
        </DockPanel>
    </DockPanel>
</Window>
