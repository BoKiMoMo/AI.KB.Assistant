<Window x:Class="AI.KB.Assistant.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="AI 知識庫助手"
        Height="720" Width="1200"
        Background="#0b1220" Foreground="#f4f4f4"
        WindowStartupLocation="CenterScreen">

	<DockPanel>
		<!-- 底部狀態列：提供 TxtStatus -->
		<StatusBar DockPanel.Dock="Bottom" Background="#0f1628">
			<StatusBarItem>
				<TextBlock x:Name="TxtStatus" Text="就緒"/>
			</StatusBarItem>
		</StatusBar>

		<!-- 左側 -->
		<StackPanel DockPanel.Dock="Left" Width="260" Background="#111a2b">
			<TextBlock Text="AI 知識庫側欄" Margin="12" FontWeight="Bold"/>

			<TextBlock Text="總目錄" Margin="12,6,12,0"/>
			<TreeView Name="TreeCategories" Margin="8"/>

			<Separator Margin="8"/>

			<!-- 搜尋 -->
			<TextBlock Text="搜尋" Margin="12,4,12,0"/>
			<StackPanel Orientation="Horizontal" Margin="8">
				<TextBox x:Name="SearchBox" Width="160" Margin="0,0,8,0" KeyDown="SearchBox_KeyDown"/>
				<Button x:Name="BtnSearch" Content="🔍" Width="44" Click="BtnSearch_Click"/>
			</StackPanel>

			<!-- 快速視圖 -->
			<Button x:Name="BtnRecent"   Content="🆕 最近新增" Margin="8" Click="BtnRecent_Click"/>
			<Button x:Name="BtnPending"  Content="📝 待確認"   Margin="8" Click="BtnPending_Click"/>
			<Button x:Name="BtnProgress" Content="🚀 執行中"   Margin="8" Click="BtnProgress_Click"/>
			<Button x:Name="BtnTodo"     Content="✅ 代辦"     Margin="8" Click="BtnTodo_Click"/>
			<Button x:Name="BtnSettings" Content="⚙️ 設定"     Margin="8" Click="BtnSettings_Click"/>
		</StackPanel>

		<!-- 主區域 -->
		<DockPanel>

			<!-- 工具列 -->
			<StackPanel Orientation="Horizontal" Margin="8" DockPanel.Dock="Top">
				<CheckBox x:Name="ChkDryRun" Content="乾跑" VerticalAlignment="Center"/>
				<Button x:Name="BtnConfirmMove" Content="🟢 一鍵確認並搬檔"
						Margin="12,0,0,0" Click="BtnConfirmMove_Click"/>
			</StackPanel>

			<!-- 拖放收件匣：提供 DropZone -->
			<Border x:Name="DropZone"
					Margin="8" BorderBrush="#2e7cf6" BorderThickness="1" Padding="16"
					Background="#0f1628" CornerRadius="8"
					AllowDrop="True" Drop="DropInbox"
					DragEnter="DropZone_DragEnter" DragLeave="DropZone_DragLeave"
					DockPanel.Dock="Top">
				<TextBlock Text="把檔案拖進來（收件匣）"
						   HorizontalAlignment="Center" VerticalAlignment="Center"/>
			</Border>

			<!-- 標題列：提供 TxtHeader -->
			<TextBlock x:Name="TxtHeader" Margin="12,0,12,0" DockPanel.Dock="Top"/>

			<!-- 清單：提供 ListFiles -->
			<ListView x:Name="ListFiles" Margin="8" SelectionMode="Extended"/>
		</DockPanel>
	</DockPanel>
</Window>
